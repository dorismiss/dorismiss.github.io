webpackJsonp([8],{GtQI:function(e,s){},W2Q3:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={data:function(){return{showLogin:!0,showRegister:!1,showTishi:!1,useDrname:"",password:"",newUsername:"",newPassword:"",username:""}},created:function(){var e="";sessionStorage.getItem("username")&&(e=sessionStorage.getItem("username")),console.log(e),this.username=e,""==this.username?this.$router.push("/login"):this.$router.push("/content")},methods:{ToRegister:function(){this.showLogin=!1,this.showRegister=!0},register:function(){var e=this;if(""==this.newUsername||""==this.newPassword)alert("请输入用户名或密码");else{var s={user_name:this.newUsername,password:this.newPassword};this.$axios({method:"post",url:this.url()+"/index.php/adminuser/register",params:{data:s}}).then(function(s){console.log(s),-1==s.data.data&&alert("用户名已被注册！"),1==s.data.data&&setTimeout(function(){this.showRegister=!1,this.showLogin=!0}.bind(e),1e3),0==s.data.data&&(_this.showLogin=!1,_this.showRegister=!0)})}},ToLogin:function(){this.showLogin=!0,this.showRegister=!1},login:function(){var e=this;if(""==this.username||""==this.password)alert("请输入用户名或密码");else{var s={user_name:this.username,password:this.password};this.$axios({method:"post",url:this.url()+"/index.php/adminuser/login",params:{data:s}}).then(function(s){console.log(s),-1==s.data.data?alert("用户名或密码错误！请重新输入"):"admin"==s.data.data.admin&&(sessionStorage.setItem("username",s.data.data.user_name),setTimeout(function(){this.$router.push({path:"/content",query:{username:s.data.data.user_name}})}.bind(e),1e3))})}}}},n={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"wrap_all"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.showLogin,expression:"showLogin"}],staticClass:"login-wrap"},[t("h3",[e._v("登录")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.username},on:{input:function(s){s.target.composing||(e.username=s.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{input:function(s){s.target.composing||(e.password=s.target.value)}}}),e._v(" "),t("button",{on:{click:e.login}},[e._v("登录")]),e._v(" "),t("p",[t("span",{on:{click:e.ToRegister}},[e._v("没有账号？马上注册")])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.showRegister,expression:"showRegister"}],staticClass:"register-wrap"},[t("h3",[e._v("注册")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUsername,expression:"newUsername"}],attrs:{type:"text",placeholder:"请输入用户名"},domProps:{value:e.newUsername},on:{input:function(s){s.target.composing||(e.newUsername=s.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newPassword,expression:"newPassword"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.newPassword},on:{input:function(s){s.target.composing||(e.newPassword=s.target.value)}}}),e._v(" "),t("button",{on:{click:e.register}},[e._v("注册")]),e._v(" "),t("p",[t("span",{on:{click:e.ToLogin}},[e._v("已有账号？马上登录")])])])])},staticRenderFns:[]};var o=t("VU/8")(a,n,!1,function(e){t("GtQI")},null,null);s.default=o.exports}});
//# sourceMappingURL=8.cc072eb0309ffe170801.js.map