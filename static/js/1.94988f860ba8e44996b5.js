webpackJsonp([1],{"Xi/w":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={data:function(){return{search:{},tableData:[],input:"",currentPage:1,tableNum:1,pageCount:1,pageSize:1,options:[],sales:[{is_on_sale:0,sale_name:"下架"},{is_on_sale:1,sale_name:"上架"}]}},created:function(){this.shoplist(),this.catelist()},methods:{onSearch:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$axios({method:"post",url:this.url()+"/index.php/goods/case",params:{page:a,search:this.search}}).then(function(a){a.data.data.list.forEach(function(t){1==t.is_on_sale?t.is_on_sale="是":t.is_on_sale="否"}),t.tableData=a.data.data.list,t.currentPage=a.data.data.paginate.current_page,t.tableNum=a.data.data.paginate.record_count,t.pageSize=a.data.data.paginate.page_size,t.pageCount=a.data.data.paginate.page_count})},shoplist:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.$axios({method:"post",url:this.url()+"/index.php/goods/case",params:{page:a}}).then(function(a){a.data.data.list.forEach(function(t){1==t.is_on_sale?t.is_on_sale="是":t.is_on_sale="否"}),t.tableData=a.data.data.list,t.currentPage=a.data.data.paginate.current_page,t.tableNum=a.data.data.paginate.record_count,t.pageSize=a.data.data.paginate.page_size,t.pageCount=a.data.data.paginate.page_count})},catelist:function(){var t=this;this.$axios({method:"get",url:this.url()+"/index.php/cate/cate"}).then(function(a){t.options=a.data.data}).catch(function(t){console.log(t)})},delshop:function(t){var a=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){a.$axios({method:"post",url:a.url()+"/index.php/goods/del",params:{goods_id:t}}).then(function(t){a.$message({type:"success",message:"删除成功!"}),a.shoplist()},function(t){})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},handleCurrentChange:function(t){this.shoplist(t)}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-main",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-input",{attrs:{placeholder:"商品名称"},model:{value:t.search.goods_name,callback:function(a){t.$set(t.search,"goods_name",a)},expression:"search.goods_name"}})],1)]),t._v(" "),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-select",{attrs:{placeholder:"所属分类"},model:{value:t.search.cate_id,callback:function(a){t.$set(t.search,"cate_id",a)},expression:"search.cate_id"}},t._l(t.options,function(t){return e("el-option",{key:t.cate_id,attrs:{label:t.cate_name,value:t.cate_id}})}),1)],1)]),t._v(" "),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content"},[e("el-select",{attrs:{placeholder:"是否上架"},model:{value:t.search.is_on_sale,callback:function(a){t.$set(t.search,"is_on_sale",a)},expression:"search.is_on_sale"}},t._l(t.sales,function(t){return e("el-option",{key:t.is_on_sale,attrs:{label:t.sale_name,value:t.is_on_sale}})}),1)],1)]),t._v(" "),e("el-col",{attrs:{span:3}},[e("div",{staticClass:"grid-content "},[e("el-button",{attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("查询")])],1)]),t._v(" "),e("el-col",{attrs:{span:6}},[e("router-link",{attrs:{to:{path:"/editshop",query:{goods_id:0}}}},[e("el-button",{attrs:{type:"primary"}},[t._v("添加")])],1)],1)],1),t._v(" "),e("el-table",{attrs:{data:t.tableData}},[e("el-table-column",{attrs:{prop:"goods_id",label:"ID",width:"140"}}),t._v(" "),e("el-table-column",{attrs:{prop:"goods_name",label:"商品名称",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"cate_name",label:"所属分类",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"market_price",label:"市场价格"}}),t._v(" "),e("el-table-column",{attrs:{prop:"goods_price",label:"价格"}}),t._v(" "),e("el-table-column",{attrs:{prop:"goods_number",label:"库存"}}),t._v(" "),e("el-table-column",{attrs:{prop:"goods_sort",label:"排序"}}),t._v(" "),e("el-table-column",{attrs:{prop:"is_on_sale",label:"是否上架"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("router-link",{key:a.row.goods_id,attrs:{to:{path:"/editshop",query:{goods_id:a.row.goods_id}}}},[e("i",{staticClass:"el-icon-edit"})]),t._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(e){return t.delshop(a.row.goods_id)}}},[e("i",{staticClass:"el-icon-delete"})])]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.currentPage,"page-count":t.pageCount,"page-size":t.pageSize,layout:"total, prev, pager, next, jumper",total:t.tableNum},on:{"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[]};var o=e("VU/8")(s,n,!1,function(t){e("o7TU")},null,null);a.default=o.exports},o7TU:function(t,a){}});
//# sourceMappingURL=1.94988f860ba8e44996b5.js.map